<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout"
         xmlns:t="/lib/hudson" xmlns:f="/lib/form" xmlns:c="/lib/credentials">

    <f:entry title="${%Name}" field="name">
        <f:textbox default="kubernetes"/>
    </f:entry>

    <f:entry title="Azure Service Principal" field="azureCredentialsId">
        <c:select expressionAllowed="false"/>
    </f:entry>

    <f:entry title="${%Kubernetes URL}" field="managementUrl">
        <f:textbox default="https://kubernetes.default.svc.cluster.local"/>
    </f:entry>

    <f:entry title="${%Kubernetes Namespace}" field="namespace">
        <f:textbox default="default"/>
    </f:entry>

    <f:entry title="ACS Credentials" field="acsCredentialsId">
        <c:select expressionAllowed="false"/>
    </f:entry>

    <f:validateButton title="${%Test Connection}" progress="${%Testing...}" method="testConnection"
                      with="managementUrl,credentialsId,serverCertificate,namespace"/>

    <f:entry title="${%Images}" description="${%List of Images to be launched as slaves}">
        <f:repeatableHeteroProperty field="templates" hasHeader="true" addCaption="Add Pod Template"
                                    deleteCaption="Delete Template"/>
    </f:entry>

</j:jelly>
